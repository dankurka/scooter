<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<html><head><meta http-equiv="Content-Type" content="text/html;charset=iso-8859-1">
<title>Controllerboard for balancing Scooter, Testsuite: SPI for Gyros</title>
<link href="doxygen.css" rel="stylesheet" type="text/css">
<link href="tabs.css" rel="stylesheet" type="text/css">
</head><body>
<!-- Generated by Doxygen 1.5.1 -->
<div class="tabs">
  <ul>
    <li><a href="index.html"><span>Main&nbsp;Page</span></a></li>
    <li><a href="modules.html"><span>Modules</span></a></li>
    <li><a href="annotated.html"><span>Data&nbsp;Structures</span></a></li>
    <li><a href="files.html"><span>Files</span></a></li>
  </ul></div>
<h1>SPI for Gyros</h1>Code for accessing the Gyroscopes.  
<a href="#_details">More...</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Defines</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#ge9c334b89c28b7c73b19a1f57f67e801">CS_GYRO1</a>&nbsp;&nbsp;&nbsp;0</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g978f20355e200c3fedebfc6cb0535bbd">CS_GYRO2</a>&nbsp;&nbsp;&nbsp;2</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g28fde31f8a9dafcccf610c96caeccdf5">ACC_HB</a>&nbsp;&nbsp;&nbsp;0x83</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#gb89f1a4d552ccdd144354452b34f0897">ACC_LB</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g2155b4e3dd30cb96d7c222d615f4f59d">TEMP_HB</a>&nbsp;&nbsp;&nbsp;0x87</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">#define&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g66d7c5f2e300719c9944c97ee6127184">TEMP_LB</a>&nbsp;&nbsp;&nbsp;0x00</td></tr>

<tr><td colspan="2"><br><h2>Typedefs</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">typedef enum <a class="el" href="group__ro__spi.html#g5a3108ec978dba9260f83fcb22b9869d">gyro_fsm_state_enum</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#gf39dfe96bed1eb685c907e39f5eb98a7">gyro_fsm_state</a></td></tr>

<tr><td colspan="2"><br><h2>Enumerations</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">enum &nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g5a3108ec978dba9260f83fcb22b9869d">gyro_fsm_state_enum</a> { <br>
&nbsp;&nbsp;<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869daa7048a2453728fa3d27bbffe627e2c9">first_run</a>, 
<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869db5aa52663e58641a93d1ccc2ab439bae">g1_hacc</a>, 
<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869d02fb9bcf6fa7553d51a9d384547dd223">g1_lacc</a>, 
<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869deae54b4c6a1a6f6ce88a4260ccf6a863">g2_hacc</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869d068ed2d591f7973cc4b068fbef1197a5">g2_lacc</a>, 
<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869d7b62ff87e6785a84e859a7b2fc8a9281">g1_htmp</a>, 
<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869d1f0d734de79b016af02ed02dee9977e1">g1_ltmp</a>, 
<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869ddbea7d727a42db801d618068634aaa80">g2_htmp</a>, 
<br>
&nbsp;&nbsp;<a class="el" href="group__ro__spi.html#gg5a3108ec978dba9260f83fcb22b9869ddaa21ba415939f952c8490b9d73221aa">g2_ltmp</a>
<br>
 }</td></tr>

<tr><td colspan="2"><br><h2>Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g67c94e3e04f57f7245efad8100c05e3f">init_spi_gyro</a> (uint8_t interrupt_mode)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#gf89275f6d086acbd0a0fdfbf4d0cbc8e">spi_cs</a> (uint8_t chip)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g710be1737d6c2637145427d3e776edfd">spi_write_8</a> (uint8_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Transfer 1 Byte given in data via the SPI return the 1 Byte sampled during transfer.  <a href="#g710be1737d6c2637145427d3e776edfd"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint8_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g749901211df982eb115539d254801df9">spi_write_8_nocs</a> (uint8_t data)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#gf202c7a0b210c4af9ffeaf4de3abbff0">spi_write_16</a> (uint16_t data)</td></tr>

<tr><td class="mdescLeft">&nbsp;</td><td class="mdescRight">Tranfer 2 Bytes given in data via the SPI, return the 2 Bytes sampled during transfer.  <a href="#gf202c7a0b210c4af9ffeaf4de3abbff0"></a><br></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">uint16_t&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g3d9ca457fe2d0967e9754da3aea2e548">spi_write_16_nocs</a> (uint16_t data)</td></tr>

<tr><td colspan="2"><br><h2>Variables</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="el" href="group__ro__spi.html#gf39dfe96bed1eb685c907e39f5eb98a7">gyro_fsm_state</a>&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="group__ro__spi.html#g7487340e71945cd71a75d6fbd8d7fd18">gyro_state</a></td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Code for accessing the Gyroscopes. 
<p>
<div class="fragment"><pre class="fragment"><span class="preprocessor"> #include &lt;<a class="code" href="gyro__spi_8h.html">gyro_spi.h</a>&gt;</span> 
</pre></div><p>
These are the functions for initializing and using the SPI- Interface. Please be aware, that the Code currently is optimized for use with the Gyroscopes. One will need to modify it for reusing with other purpose.<p>
<dl class="note" compact><dt><b>Note:</b></dt><dd>Based on Atmel Datasheet for Atmega128, Nov. 2006 </dd></dl>
<dl class="author" compact><dt><b>Author:</b></dt><dd>Rainer Ostendorf </dd></dl>
<hr><h2>Define Documentation</h2>
<a class="anchor" name="g28fde31f8a9dafcccf610c96caeccdf5"></a><!-- doxytag: member="gyro_spi.h::ACC_HB" ref="g28fde31f8a9dafcccf610c96caeccdf5" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACC_HB&nbsp;&nbsp;&nbsp;0x83          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
high-byte of "read acceleration" control word for ADIS16100 
<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00088">88</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
<p>
Referenced by <a class="el" href="gyro__spi_8c-source.html#l00066">SIGNAL()</a>.
</div>
</div><p>
<a class="anchor" name="gb89f1a4d552ccdd144354452b34f0897"></a><!-- doxytag: member="gyro_spi.h::ACC_LB" ref="gb89f1a4d552ccdd144354452b34f0897" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define ACC_LB&nbsp;&nbsp;&nbsp;0x00          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
low-byte of "read acceleration" control word for ADIS16100 -&gt; 2's complement 
<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00090">90</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
<p>
Referenced by <a class="el" href="gyro__spi_8c-source.html#l00066">SIGNAL()</a>.
</div>
</div><p>
<a class="anchor" name="ge9c334b89c28b7c73b19a1f57f67e801"></a><!-- doxytag: member="gyro_spi.h::CS_GYRO1" ref="ge9c334b89c28b7c73b19a1f57f67e801" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CS_GYRO1&nbsp;&nbsp;&nbsp;0          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
chipselect for gyro1 
<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00082">82</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
</div>
</div><p>
<a class="anchor" name="g978f20355e200c3fedebfc6cb0535bbd"></a><!-- doxytag: member="gyro_spi.h::CS_GYRO2" ref="g978f20355e200c3fedebfc6cb0535bbd" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define CS_GYRO2&nbsp;&nbsp;&nbsp;2          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
chipselect for gyro2 
<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00084">84</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
<p>
Referenced by <a class="el" href="gyro__spi_8c-source.html#l00066">SIGNAL()</a>.
</div>
</div><p>
<a class="anchor" name="g2155b4e3dd30cb96d7c222d615f4f59d"></a><!-- doxytag: member="gyro_spi.h::TEMP_HB" ref="g2155b4e3dd30cb96d7c222d615f4f59d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEMP_HB&nbsp;&nbsp;&nbsp;0x87          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
high-byte of "read tempereature" control word for ADIS16100 
<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00093">93</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
<p>
Referenced by <a class="el" href="gyro__spi_8c-source.html#l00066">SIGNAL()</a>.
</div>
</div><p>
<a class="anchor" name="g66d7c5f2e300719c9944c97ee6127184"></a><!-- doxytag: member="gyro_spi.h::TEMP_LB" ref="g66d7c5f2e300719c9944c97ee6127184" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">#define TEMP_LB&nbsp;&nbsp;&nbsp;0x00          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
low-byte of "read tempereature" control word for ADIS16100 
<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00095">95</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
<p>
Referenced by <a class="el" href="gyro__spi_8c-source.html#l00066">SIGNAL()</a>.
</div>
</div><p>
<hr><h2>Typedef Documentation</h2>
<a class="anchor" name="gf39dfe96bed1eb685c907e39f5eb98a7"></a><!-- doxytag: member="gyro_spi.h::gyro_fsm_state" ref="gf39dfe96bed1eb685c907e39f5eb98a7" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">typedef enum <a class="el" href="group__ro__spi.html#g5a3108ec978dba9260f83fcb22b9869d">gyro_fsm_state_enum</a>  <a class="el" href="group__ro__spi.html#gf39dfe96bed1eb685c907e39f5eb98a7">gyro_fsm_state</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
state definition for the finite state maschine running inside the SPI-ISR 
</div>
</div><p>
<hr><h2>Enumeration Type Documentation</h2>
<a class="anchor" name="g5a3108ec978dba9260f83fcb22b9869d"></a><!-- doxytag: member="gyro_spi.h::gyro_fsm_state_enum" ref="g5a3108ec978dba9260f83fcb22b9869d" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">enum <a class="el" href="group__ro__spi.html#g5a3108ec978dba9260f83fcb22b9869d">gyro_fsm_state_enum</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
state definition for the finite state maschine running inside the SPI-ISR <dl compact><dt><b>Enumerator: </b></dt><dd>
<table border="0" cellspacing="2" cellpadding="0">
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869daa7048a2453728fa3d27bbffe627e2c9"></a><!-- doxytag: member="first_run" ref="gg5a3108ec978dba9260f83fcb22b9869daa7048a2453728fa3d27bbffe627e2c9" args="" -->first_run</em>&nbsp;</td><td>
first run of the ISR, not initialized </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869db5aa52663e58641a93d1ccc2ab439bae"></a><!-- doxytag: member="g1_hacc" ref="gg5a3108ec978dba9260f83fcb22b9869db5aa52663e58641a93d1ccc2ab439bae" args="" -->g1_hacc</em>&nbsp;</td><td>
high-byte of "read-acceleration" word was send to gyro 1 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869d02fb9bcf6fa7553d51a9d384547dd223"></a><!-- doxytag: member="g1_lacc" ref="gg5a3108ec978dba9260f83fcb22b9869d02fb9bcf6fa7553d51a9d384547dd223" args="" -->g1_lacc</em>&nbsp;</td><td>
low-byte of "read-acceleration" word was send to gyro 1 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869deae54b4c6a1a6f6ce88a4260ccf6a863"></a><!-- doxytag: member="g2_hacc" ref="gg5a3108ec978dba9260f83fcb22b9869deae54b4c6a1a6f6ce88a4260ccf6a863" args="" -->g2_hacc</em>&nbsp;</td><td>
high-byte of "read-acceleration" word was send to gyro 2 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869d068ed2d591f7973cc4b068fbef1197a5"></a><!-- doxytag: member="g2_lacc" ref="gg5a3108ec978dba9260f83fcb22b9869d068ed2d591f7973cc4b068fbef1197a5" args="" -->g2_lacc</em>&nbsp;</td><td>
low-byte of "read-acceleration" word was send to gyro1 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869d7b62ff87e6785a84e859a7b2fc8a9281"></a><!-- doxytag: member="g1_htmp" ref="gg5a3108ec978dba9260f83fcb22b9869d7b62ff87e6785a84e859a7b2fc8a9281" args="" -->g1_htmp</em>&nbsp;</td><td>
high-byte of "read-temperature" word was send to gyro1 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869d1f0d734de79b016af02ed02dee9977e1"></a><!-- doxytag: member="g1_ltmp" ref="gg5a3108ec978dba9260f83fcb22b9869d1f0d734de79b016af02ed02dee9977e1" args="" -->g1_ltmp</em>&nbsp;</td><td>
low-byte of "read-temperature" word was send to gyro1 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869ddbea7d727a42db801d618068634aaa80"></a><!-- doxytag: member="g2_htmp" ref="gg5a3108ec978dba9260f83fcb22b9869ddbea7d727a42db801d618068634aaa80" args="" -->g2_htmp</em>&nbsp;</td><td>
high-byte of "read-temperature" word was send to gyro2 </td></tr>
<tr><td valign="top"><em><a class="anchor" name="gg5a3108ec978dba9260f83fcb22b9869ddaa21ba415939f952c8490b9d73221aa"></a><!-- doxytag: member="g2_ltmp" ref="gg5a3108ec978dba9260f83fcb22b9869ddaa21ba415939f952c8490b9d73221aa" args="" -->g2_ltmp</em>&nbsp;</td><td>
high-byte of "read-temperature" word was send to gyro2 </td></tr>
</table>
</dl>

<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00098">98</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
</div>
</div><p>
<hr><h2>Function Documentation</h2>
<a class="anchor" name="g67c94e3e04f57f7245efad8100c05e3f"></a><!-- doxytag: member="gyro_spi.h::init_spi_gyro" ref="g67c94e3e04f57f7245efad8100c05e3f" args="(uint8_t interrupt_mode)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void init_spi_gyro           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>interrupt_mode</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Initialize the onboard SPInterface to match the needs of the AD ADIS16100 Gyroskope. This means setting the clock, setting the ports directions, setting mode etc. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>interrupt_mode</em>&nbsp;</td><td>flag wether to enable the interrupt mode in irq-mode, the ISR takes care of reading the Gyros as fast as possible and fills a global array used as ringbuffer of sample-values. Either the Gyros have to be read manually by calling the spi_write-functions. </td></tr>
  </table>
</dl>

<p>
Set the SPI-port-Pin directions: B0 - /SS -&gt; Output, 1 B1 - SCLK -&gt; Output, 1 B2 - MOSI -&gt; Output, 1 B3 - MISO -&gt; Input, 0<p>
Set SPI Control register: 7 - SPIE, Interrup Enable -&gt; 1, enable IRQs 6 - SPE, SPI-Enbale -&gt; 1, enable SPI-System 5 - DORD, DataOrder -&gt; 0, MSB first (leftshift) 4 - MSTR, Master/Slave -&gt; 1, MasterMode 3 - CPOL, ClkPolarity -&gt; 0, begin with leading edge rising,trailing edge falling 2 - CPHA, ClkPhase -&gt; 1, sample on leading edge (0-1), setup on trailing(1-0) 1,0 SPR1,0, ClockRate, 1,1 - for 125 kHz CLK with SPI2x not set<p>
Set SPI Status Register: 0, SPI2X -&gt; 1,clk-doubling for 0.25 Mhz<p>
Set the selftest-signals to be outputs<p>
deactive self-tests 
<p>
Definition at line <a class="el" href="gyro__spi_8c-source.html#l00183">183</a> of file <a class="el" href="gyro__spi_8c-source.html">gyro_spi.c</a>.
</div>
</div><p>
<a class="anchor" name="gf89275f6d086acbd0a0fdfbf4d0cbc8e"></a><!-- doxytag: member="gyro_spi.h::spi_cs" ref="gf89275f6d086acbd0a0fdfbf4d0cbc8e" args="(uint8_t chip)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void spi_cs           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>chip</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
choose a chip by setting the CS1 and CS2 signal towards the GAL according <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>chip</em>&nbsp;</td><td>Nr of the /CS-Signal to choose (0-3) </td></tr>
  </table>
</dl>

<p>
Definition at line <a class="el" href="gyro__spi_8c-source.html#l00239">239</a> of file <a class="el" href="gyro__spi_8c-source.html">gyro_spi.c</a>.
<p>
Referenced by <a class="el" href="transceiver__spi_8c-source.html#l00070">read_from_ram()</a>, <a class="el" href="transceiver__spi_8c-source.html#l00041">read_from_spi()</a>, <a class="el" href="transceiver__spi_8c-source.html#l00053">write_to_ram()</a>, and <a class="el" href="transceiver__spi_8c-source.html#l00031">write_to_spi()</a>.
</div>
</div><p>
<a class="anchor" name="gf202c7a0b210c4af9ffeaf4de3abbff0"></a><!-- doxytag: member="gyro_spi.h::spi_write_16" ref="gf202c7a0b210c4af9ffeaf4de3abbff0" args="(uint16_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t spi_write_16           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Tranfer 2 Bytes given in data via the SPI, return the 2 Bytes sampled during transfer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>16bit word that is transferred </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>data sampled during transfer </dd></dl>

<p>
Definition at line <a class="el" href="gyro__spi_8c-source.html#l00298">298</a> of file <a class="el" href="gyro__spi_8c-source.html">gyro_spi.c</a>.
</div>
</div><p>
<a class="anchor" name="g3d9ca457fe2d0967e9754da3aea2e548"></a><!-- doxytag: member="gyro_spi.h::spi_write_16_nocs" ref="g3d9ca457fe2d0967e9754da3aea2e548" args="(uint16_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint16_t spi_write_16_nocs           </td>
          <td>(</td>
          <td class="paramtype">uint16_t&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="gyro__spi_8c-source.html#l00329">329</a> of file <a class="el" href="gyro__spi_8c-source.html">gyro_spi.c</a>.
<p>
Referenced by <a class="el" href="transceiver__spi_8c-source.html#l00070">read_from_ram()</a>, <a class="el" href="transceiver__spi_8c-source.html#l00041">read_from_spi()</a>, <a class="el" href="transceiver__spi_8c-source.html#l00053">write_to_ram()</a>, and <a class="el" href="transceiver__spi_8c-source.html#l00031">write_to_spi()</a>.
</div>
</div><p>
<a class="anchor" name="g710be1737d6c2637145427d3e776edfd"></a><!-- doxytag: member="gyro_spi.h::spi_write_8" ref="g710be1737d6c2637145427d3e776edfd" args="(uint8_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t spi_write_8           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Transfer 1 Byte given in data via the SPI return the 1 Byte sampled during transfer. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>data</em>&nbsp;</td><td>8bit word that is transferred </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>data sampled during transfer </dd></dl>

<p>
Definition at line <a class="el" href="gyro__spi_8c-source.html#l00252">252</a> of file <a class="el" href="gyro__spi_8c-source.html">gyro_spi.c</a>.
</div>
</div><p>
<a class="anchor" name="g749901211df982eb115539d254801df9"></a><!-- doxytag: member="gyro_spi.h::spi_write_8_nocs" ref="g749901211df982eb115539d254801df9" args="(uint8_t data)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">uint8_t spi_write_8_nocs           </td>
          <td>(</td>
          <td class="paramtype">uint8_t&nbsp;</td>
          <td class="paramname"> <em>data</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>

<p>
Definition at line <a class="el" href="gyro__spi_8c-source.html#l00277">277</a> of file <a class="el" href="gyro__spi_8c-source.html">gyro_spi.c</a>.
<p>
Referenced by <a class="el" href="transceiver__spi_8c-source.html#l00070">read_from_ram()</a>, <a class="el" href="transceiver__spi_8c-source.html#l00041">read_from_spi()</a>, <a class="el" href="transceiver__spi_8c-source.html#l00053">write_to_ram()</a>, and <a class="el" href="transceiver__spi_8c-source.html#l00031">write_to_spi()</a>.
</div>
</div><p>
<hr><h2>Variable Documentation</h2>
<a class="anchor" name="g7487340e71945cd71a75d6fbd8d7fd18"></a><!-- doxytag: member="gyro_spi.h::gyro_state" ref="g7487340e71945cd71a75d6fbd8d7fd18" args="" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname"><a class="el" href="group__ro__spi.html#gf39dfe96bed1eb685c907e39f5eb98a7">gyro_fsm_state</a> <a class="el" href="group__ro__spi.html#g7487340e71945cd71a75d6fbd8d7fd18">gyro_state</a>          </td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
the state variable for the ISRs finite state maschine 
<p>
Definition at line <a class="el" href="gyro__spi_8h-source.html#l00120">120</a> of file <a class="el" href="gyro__spi_8h-source.html">gyro_spi.h</a>.
<p>
Referenced by <a class="el" href="gyro__spi_8c-source.html#l00066">SIGNAL()</a>.
</div>
</div><p>
<hr size="1"><address style="align: right;"><small>Generated on Mon Dec 18 23:32:32 2006 for Controllerboard for balancing Scooter, Testsuite by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.1 </small></address>
</body>
</html>
